{"version":3,"sources":["webpack:///./src/views/project/planHookUpApproval.vue?d46d","webpack:///src/views/project/planHookUpApproval.vue","webpack:///./src/views/project/planHookUpApproval.vue?7ebc","webpack:///./src/views/project/planHookUpApproval.vue","webpack:///./src/views/project/planHookUpApproval.vue?bea7","webpack:///./src/views/project/planHookUpApproval.vue?0249"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","showDrawer","directives","name","rawName","value","expression","ref","attrs","tableDataShow","tableHeight","background","color","tableRowClassName","children","hasChildren","on","handleSelectionChange","_l","item","index","colDname","showType","key","dispName","scopedSlots","_u","fn","scope","$event","showDetailDialog","row","_v","_s","itemName","_e","staticStyle","form","model","auditItemParam","callback","$$v","$set","slot","backWorkFlow","loadingBtn1","saveAudtiInfo","timer","showData","showQuery","changeStatus","staticRenderFns","data","tableHeightTab","showAddDialog","itemId","specClass","specClassName","oldPath","tableLabelArr","phash","parentItemId","deptCode","isClearable","isAccordion","valueId","props","label","code","deptArr","audited","auditAdvice","itemIds","isShowQuery","dialogVisibleL","dialogLoading","loading","delData","ids","lableList","totalNum","currentPage","currentNum","year","dialogFormVisible","options","formLabelWidth","input","tableData","tableLabel","param","createOrg","itemType","pageSize","speciality","voltLevel","ghYear","itemSource","dictMap","Map","saveData","kssj","pleanTableLabel","planLabel","tempItemId","tempItemName","itemShow","saveLabel","reportFileName","columnTypeMap","isShowFilter","minDate","maxDate","pickerOptionsStart","disabledDate","time","getTime","pickerOptionsEnd","auditPlanId","saveParams","userSpecialityArr","components","querys","SelectTree","ItemAddCom","watch","getTable","created","mounted","getSpecialityIds","getTableWithTitle","computed","methods","cancel","getValue","status","console","log","Date","getTreeDeptCode","response","successful","_this","resultValue","str","split","formartDate","y","getFullYear","m","getMonth","d","getDate","add0","switchFilter","getColumnTypeArr","map","set","temp","colType","getDictArr","columnTypeMapDict","codeList","arr","push","component"],"mappings":"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","file":"js/chunk-099984e3.d6222cc6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"table-item-box\"},[_c('div',{class:_vm.showDrawer?'table-wrapper-run':'table-wrapper-init'},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"itemTable\",staticClass:\"project\",attrs:{\"data\":_vm.tableDataShow,\"height\":_vm.tableHeight,\"border\":\"\",\"header-cell-style\":{background:'#359691',color:'#fff'},\"row-class-name\":_vm.tableRowClassName,\"cell-class-name\":\"column\",\"highlight-current-row\":true,\"row-key\":\"itemId\",\"tree-props\":{children: 'children', hasChildren: 'hasChildren'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"45\"}}),_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"label\":\"序号\"}}),_vm._l((_vm.tableLabel),function(item,index){return (item.colDname != 'itemName' && item.showType == 1)?_c('el-table-column',{key:index,attrs:{\"prop\":item.colDname,\"label\":item.dispName,\"show-overflow-tooltip\":true}}):(item.colDname == 'itemName')?_c('el-table-column',{attrs:{\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":item.dispName},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"blue\",on:{\"click\":function($event){return _vm.showDetailDialog(scope.row)}}},[_vm._v(_vm._s(scope.row.itemName))])]}}])}):_vm._e()})],2),_c('div',{staticClass:\"table-item-box\",staticStyle:{\"height\":\"50% !important\"}},[_c('div',{staticClass:\"table-box\",class:_vm.showDrawer?'table-wrapper-run':'table-wrapper-init'},[_c('el-form',{staticClass:\"demo-form-inline reason-form\",attrs:{\"model\":_vm.form,\"label-width\":\"10%\"}},[_c('el-form-item',{attrs:{\"label\":\"意见:\"}},[_c('el-input',{staticClass:\"elinput reason\",attrs:{\"type\":\"textarea\",\"placeholder\":\"\"},model:{value:(_vm.auditItemParam.auditAdvice),callback:function ($$v) {_vm.$set(_vm.auditItemParam, \"auditAdvice\", $$v)},expression:\"auditItemParam.auditAdvice\"}})],1)],1),_c('div',{staticClass:\"dialog-footer option\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"div\"},[_c('el-button',{on:{\"click\":_vm.backWorkFlow}},[_vm._v(\"退回\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loadingBtn1},on:{\"click\":_vm.saveAudtiInfo}},[_vm._v(\"同意\")])],1)])],1)])],1),_c('div',{class:_vm.showDrawer?'item-add-wrapper-run':'item-wrapper-init'},[(_vm.showDrawer)?_c('item-add-com',{key:_vm.timer,attrs:{\"showData\":_vm.showData,\"showAddDialog\":_vm.showDrawer,\"isShowQuery\":_vm.showQuery,\"tableHeightTab\":_vm.tableHeight},on:{\"changeStatus\":_vm.changeStatus}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 评审计划挂接待办 -->\n    <div class=\"table-item-box\">\n      <div :class=\"showDrawer?'table-wrapper-run':'table-wrapper-init'\">\n        <el-table\n          class=\"project\"\n          :data=\"tableDataShow\"\n          v-loading=\"loading\"\n          @selection-change=\"handleSelectionChange\"\n          :height=\"tableHeight\"\n          border\n          :header-cell-style=\"{background:'#359691',color:'#fff'}\"\n          :row-class-name=\"tableRowClassName\"\n          cell-class-name=\"column\"\n          :highlight-current-row=\"true\"\n          row-key=\"itemId\"\n          ref=\"itemTable\"\n          :tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\"\n        >\n          <el-table-column type=\"selection\" width=\"45\"></el-table-column>\n          <el-table-column type=\"index\" width=\"50\" label=\"序号\"></el-table-column>\n          <el-table-column\n            v-for=\"(item, index) in tableLabel\"\n            v-if=\"item.colDname != 'itemName' && item.showType == 1\"\n            :key=\"index\"\n            :prop=\"item.colDname\"\n            :label=\"item.dispName\"\n            :show-overflow-tooltip=\"true\"\n          ></el-table-column>\n          <el-table-column\n            align=\"left\"\n            :show-overflow-tooltip=\"true\"\n            v-else-if=\"item.colDname == 'itemName'\"\n            :label=\"item.dispName\"\n          >\n            <template slot-scope=\"scope\">\n              <span class=\"blue\" @click=\"showDetailDialog(scope.row)\">{{ scope.row.itemName }}</span>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"table-item-box\" style=\"height: 50% !important;\">\n          <div class=\"table-box\" :class=\"showDrawer?'table-wrapper-run':'table-wrapper-init'\">\n            <!-- 留言原因 -->\n            <el-form :model=\"form\" class=\"demo-form-inline reason-form\" label-width=\"10%\">\n              <el-form-item label=\"意见:\">\n                <el-input class=\"elinput reason\" type=\"textarea\" v-model=\"auditItemParam.auditAdvice\" placeholder></el-input>\n              </el-form-item>\n            </el-form>\n            <!-- 确定 取消 -->\n            <div slot=\"footer\" class=\"dialog-footer option\">\n              <div class=\"div\">\n                <el-button @click=\"backWorkFlow\">退回</el-button>\n                <el-button type=\"primary\" @click=\"saveAudtiInfo\" :loading=\"loadingBtn1\">同意</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div :class=\"showDrawer?'item-add-wrapper-run':'item-wrapper-init'\">\n        <!-- 新增 修改 浏览 引itemaddcom -->\n        <item-add-com\n          v-if=\"showDrawer\"\n          :key=\"timer\"\n          :showData=\"showData\"\n          :showAddDialog=\"showDrawer\"\n          :isShowQuery=\"showQuery\"\n          :tableHeightTab=\"tableHeight\"\n          @changeStatus=\"changeStatus\"\n        ></item-add-com>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { mapGetters } from \"vuex\";\nimport SelectTree from \"@/components/treeSelect.vue\";\nimport itemDialog from \"@/views/project/item.vue\";\nimport ItemAddCom from \"./itemAddCom\";\n\nimport {\n  auditBySpeciality,\n  getTreeDeptCode,\n  getUserDept,\n  queryItemTitle,\n  queryAll,\n  saveWorkItem,\n  getProcessStatus,\n  updateProcessFinished,\n  getItemInfoByProcessInstId,\n  queryTitleHookUp,\n  queryTableHookUp\n} from \"@/api/data\";\n\nimport { queryBySpeciality, getSpecialityIds } from \"@/api/data\";\nimport querys from \"@/components/querys\";\n\nimport { finishWorkItem, backActivity } from \"@/api/workflow\";\n\nexport default {\n  name: \"questions\",\n  data() {\n    return {\n      showQuery:false,\n      tableHeightTab:\"\",\n      timer: \"\",\n      showAddDialog: false, //弹窗是否展示-新增 修改 浏览\n      showData: {\n        itemId: null, //项目id\n        specClass: \"\", //专项类型\n        specClassName: \"\", //专项类型名称\n        oldPath: \"\", //原来路由\n        tableLabelArr: \"\", //表头\n        phash: \"1\", //阶段1=立项 2=可研 3=储备 0=浏览\n        parentItemId: null //父项id-新增下级时用\n      },\n      showDrawer: false,\n      deptCode: \"\",\n      isClearable: true, // 可清空（可选）\n      isAccordion: true, // 可收起（可选）\n      valueId: \"\", // 初始ID（可选）\n      props: {\n        // 配置项（必选）\n        value: \"id\",\n        label: \"name\",\n        children: \"children\",\n        code: \"deptCode\"\n        // disabled:true\n      },\n      deptArr: [],\n      //加载保存审核意见\n      loadingBtn1: false,\n      //评审意见参数\n      auditItemParam: {\n        audited: \"1\",\n        auditAdvice: \"\",\n        itemIds: \"\",\n          itemPhaseDet:\"\"\n      },\n      isShowQuery: false,\n      dialogVisibleL: false,\n      dialogLoading: false,\n      loading: false,\n      delData: {\n        ids: []\n      },\n      lableList: [{ value: \"\" }],\n      totalNum: 0,\n      currentPage: 1,\n      currentNum: 10,\n      year: \"\",\n      dialogFormVisible: false,\n      form: {},\n      options: [],\n      value: \"\",\n      formLabelWidth: \"140px\",\n      input: \"\",\n      // 子组件的表格数据\n      tableData: [],\n      // 子组件的表头数据\n      tableLabel: [],\n\n      //查询条件\n      param: {\n        createOrg: \"\", //单位编码\n        itemName: \"\", //项目名称\n        itemType: \"\", //项目类型\n        pageSize: 10,\n        speciality: \"\", //专业类型\n        voltLevel: \"\", //电压等级\n        // feaStatus: 0,  //可研状态\n        ghYear: \"\", //规划年份\n        itemSource: \"\"\n      },\n      // dictMap: Object,\n      dictMap: new Map(),\n      tableDataShow: [],\n      saveData: {\n        kssj: \"\"\n      },\n      //提交评审计划弹框中的信息\n      pleanTableLabel: [],\n      planLabel: {},\n      //项目id\n      tempItemId: \"\",\n      //项目名称\n      tempItemName: \"\",\n      //是否展示项目详情弹框\n      itemShow: false,\n      saveLabel: {},\n      //项目可研报告文件名\n      reportFileName: \"\",\n      //获取字段类型字典，用于日期类型的展示\n      columnTypeMap: new Map(),\n      isShowFilter: false,\n      //自动表格高度\n\n      tableHeight: \"65vh\",\n      minDate: \"\",\n      maxDate: \"\",\n      pickerOptionsStart: {\n        disabledDate: time => {\n          let maxDate = new Date(this.maxDate);\n          let minDate = Date.now() - 8.64e7;\n          return time.getTime() <= minDate || time.getTime() > maxDate;\n        }\n      },\n      pickerOptionsEnd: {\n        disabledDate: time => {\n          let minDate = new Date(this.minDate);\n          let maxDate = Date.now() - 8.64e7;\n          return time.getTime() <= maxDate || time.getTime() <= minDate;\n        }\n      },\n\n      auditPlanId: \"\",\n      //点击提交传入的参数\n      saveParams: [],\n      //用户所属专项类型值\n      userSpecialityArr: []\n    };\n  },\n  components: {\n    querys,\n    SelectTree,\n    ItemAddCom\n  },\n  watch: {\n    deptCode() {\n      this.param.createOrg = this.deptCode;\n      this.getTable(this.currentPage, this.currentNum);\n    }\n  },\n  created() {\n    //表格自动高度\n    this.tableHeight=window.innerHeight-220;\n  },\n\n\n  mounted() {\n    this.getSpecialityIds();\n    this.getTableWithTitle(1, 10);\n    // this.getTreeDeptCode()\n  },\n  computed: {\n    ...mapGetters([\n      // 'token',\n    ])\n  },\n  methods: {\n    cancel() {\n        top.opener=null;\n        top.close();     //注意,   不可跨域\n        // parent.window.close();\n        // var index = parent.layer.getFrameIndex(window.name);\n        // parent.layer.close(index);\n    },\n    getValue(value) {\n      this.deptCode = value;\n    },\n    // 子组件向父组件传递参数\n    changeStatus(status) {\n      this.showDrawer = status;\n      console.log(\"status\" + status);\n    },\n    //展示项目详细信息\n    showDetailDialog(row) {\n      this.showData.itemId = row.itemId;\n      this.showData.phash = 0;\n      this.showDrawer = true;\n      this.timer = new Date().getTime();\n    },\n    //获取单位树形结构\n    getTreeDeptCode() {\n      let _this = this;\n      getUserDept().then(response => {\n        let valueId = response.data.resultValue;\n        getTreeDeptCode().then(response => {\n          console.log(response);\n          if (response.data.successful) {\n            _this.valueId = valueId;\n            _this.deptArr = response.data.resultValue;\n          }\n        });\n      });\n    },\n\n    //保存审核意见\n    saveAudtiInfo() {\n        let params = {\n            \"user\": this.$route.query.iscUserId,\n            \"workItemID\": this.$route.query.workItemID\n        }\n        this.loadingBtn1 = true\n        finishWorkItem(params).then(res => {\n            if(res.data.status == '0'){\n                let params1 = {\n                    processInstID:  this.$route.query.processInstID,\n                    itemId:  this.auditItemParam.itemIds,\n                    userId:  this.$route.query.iscUserId,\n                    isAudit: 1,\n                    workItemId:  this.$route.query.workItemID,\n                    auditDesc: this.auditItemParam.auditAdvice,\n                    itemPhaseDet:3\n                }\n                let tosave = false\n                if(this.auditItemParam.itemPhaseDet == \"已提交立项申请\") {\n                    params1.itemPhaseDet = 3;\n                    tosave = true\n                }else if(this.auditItemParam.itemPhaseDet == \"可研编制已提交审批\"){\n                    params1.itemPhaseDet = 26;\n                    tosave = true\n                }\n                if(tosave){\n                  saveWorkItem(params1).then(result => {\n                    this.loadingBtn1 = false\n                    if (result.data.successful){\n                      this.$message.success(\"提交审核成功\");\n                      parent.GetChildValue(\"true\");\n                      // let _params = {\n                      //   processInstID:this.$route.query.processInstID,\n                      //   itemId:this.auditItemParam.itemIds,\n                      //   userId:this.$route.query.iscUserId\n                      // }\n                      // updateProcessFinished(_params).then(res => {\n                      //   if(res.data.successful){\n                          \n                      //   }else {\n                      //     let error = result.data.resultHint;\n                      //     this.$message.error(error);\n                      //   }\n                      // })    \n                    }else {\n                        let error = result.data.resultHint;\n                        this.$message.error(error);\n                    }\n                  });\n                }\n                \n            }else {\n              this.$message.error(item.itemName + res.data.message);\n            }\n\n        })\n    },\n\n    backWorkFlow() {\n        this.dialogFormVisible = false;\n\n        let params = {\n            \"user\": this.$route.query.iscUserId,\n            \"currentActInstID\": this.$route.query.activityInstID,\n            \"destActDefID\": \"submit\",\n            \"rollBackStrategy\": \"path\"\n        }\n        backActivity(params).then(res => {\n            if(res.data.status == 0) {\n                let params1 = {\n                    processInstID:  this.$route.query.processInstID,\n                    itemId:  this.auditItemParam.itemIds,\n                    userId:  this.$route.query.iscUserId,\n                    isAudit: 2,\n                    workItemId:  this.$route.query.workItemID,\n                    auditDesc: this.auditItemParam.auditAdvice,\n                    itemPhaseDet:0\n                }\n                let toback = false\n                if(this.auditItemParam.itemPhaseDet == \"已提交立项申请\") {\n                    params1.itemPhaseDet = 0;\n                    toback = true\n                }else if(this.auditItemParam.itemPhaseDet == \"可研编制已提交审批\"){\n                    params1.itemPhaseDet = 27;\n                    toback = true\n                }\n                if(toback){\n                  saveWorkItem(params1).then(result => {\n                    if (result.data.successful){\n                        this.$message.success(\"退回成功\");\n                        parent.GetChildValue(\"true\");\n                    }\n                    else {\n                        let error = result.data.resultHint;\n                        this.$message.error(error);\n                    }\n                  });\n                }\n                \n            }else {\n                this.$message.error(item.itemName + res.data.message);\n            }\n\n        })\n    },\n\n    getSpecialityIds() {\n      let _this = this;\n      getSpecialityIds().then(response => {\n        if (response.data.successful) {\n          let str = response.data.resultValue;\n          if (str != \"\") {\n            _this.userSpecialityArr = str.split(\",\");\n          }\n          console.log(response);\n        }\n      });\n    },\n    //时间戳字符串的转化\n    formartDate(param) {\n      var time = new Date(param);\n      var y = time.getFullYear();\n      var m = time.getMonth() + 1;\n      var d = time.getDate();\n      // var h = time.getHours();\n      // var mm = time.getMinutes();\n      // var s = time.getSeconds();\n      // return y+'-'+this.add0(m)+'-'+this.add0(d)+' '+this.add0(h)+':'+this.add0(mm)+':'+this.add0(s);\n      return y + \"-\" + this.add0(m) + \"-\" + this.add0(d);\n    },\n    add0(m) {\n      return m < 10 ? \"0\" + m : m;\n    },\n    switchFilter() {\n      this.isShowFilter = !this.isShowFilter;\n    },\n    //获取字段类型字典\n    getColumnTypeArr(labelList) {\n      let map = new Map();\n      for (let i = 0; i < labelList.length; i++) {\n        let temp = labelList[i];\n        map.set(temp.colDname, temp.colType);\n      }\n      return map;\n    },\n\n    //查询表头以及列表数据\n    getTableWithTitle(size) {\n      //（page,size）\n      let _this = this;\n      _this.loading = true;\n      // _this.param.pageSize = size;\n      // _this.param.itemPhaseDet = \"2\";\n      // if (this.specClass == \"\") {\n      //   let path = _this.$route.path;\n      //   _this.specClass = path.substr(path.lastIndexOf(\"/\") + 1, path.length);\n      // }\n      // _this.param.speciality = _this.specClass;\n      // let formartDate = {};\n      // formartDate.itemId = _this.specClass;\n      queryTitleHookUp().then(response => {\n        _this.loading = false;\n        if (response.data.successful) {\n          //获取表头\n          _this.tableLabel = response.data.resultValue;\n          //从表头中抽取出字典信息列表\n          _this.dictMap = _this.getDictArr(_this.tableLabel);\n          //获取字段类型对应关系\n          _this.columnTypeMapDict = _this.getColumnTypeArr(_this.tableLabel);\n          //从路由中获取流程实例id\n          let processInstID = _this.$route.query.processInstID;\n          //获取列表数据\n          //根据流程实例id查询项目id\n          getItemInfoByProcessInstId({ processInstID: processInstID }).then(\n            res => {\n              if (res.data.successful) {\n                console.log(res);\n                let itemInfo = res.data.resultValue;\n                // 保存或者退回需要用到的参数\n                _this.auditItemParam.itemIds = itemInfo.itemId;\n                _this.auditItemParam.itemPhaseDet = itemInfo.itemPhaseDet;\n                // 根据itemId查询列表\n                queryTitleHookUp({itemId:itemInfo.itemId}).then(res => {\n                  if(res.data.successful){\n                    _this.tableDataShow = res.data.resultValue;\n                    _this.totalNum = 1;\n                  }\n                })\n              }\n            }\n          );\n        } else {\n          this.$message.error(\"查询表头信息出错\");\n        }\n      });\n    },\n    getDictArr(labelList) {\n      //根据当前用户id查询用户所属的单位\n      //获取数据字典\n      let _this = this;\n      let map = new Map();\n      for (let i = 0; i < labelList.length; i++) {\n        let temp = labelList[i];\n        if (temp.codeList != null) {\n          if (temp.colDname == \"speciality\") {\n            //过滤当前登录人的专项\n            let arr = [];\n            for (let i = 0; i < temp.codeList.length; i++) {\n              for (let j = 0; j < _this.userSpecialityArr.length; j++) {\n                if (temp.codeList[i].codeValue == _this.userSpecialityArr[j]) {\n                  arr.push(temp.codeList[i]);\n                }\n              }\n            }\n            temp.codeList = arr;\n          }\n          map.set(temp.colDname, temp.codeList);\n        }\n      }\n      return map;\n    }\n  }\n};\n</script>\n<style type=\"text/css\">\n.diy,\n.el-dialog .diy .el-textarea__inner {\n  width: 100% !important;\n}\n\n.filters .el-input,\n.filters .el-date-editor.el-input {\n  width: 100px !important;\n}\n\n.filters .right_btn {\n  float: right;\n}\n\n.filters {\n  margin: 10px 0;\n}\n\n.filters_top {\n  margin-bottom: 10px;\n}\n\n.filters .show_bot {\n  cursor: pointer;\n  background: #81c4dc;\n  color: #fff;\n  line-height: 30px;\n  display: inline-block;\n  margin-right: 10px;\n  border-radius: 3px;\n  padding: 0 2px;\n}\n\n.check-dialog .el-dialog .el-textarea__inner {\n  width: 100% !important;\n}\n\n/* 党志乾 */\n.table-box {\n  width: 100% !important;\n  /* border: 1px solid springgreen; */\n  height: 80% !important;\n  margin-top: 20px;\n}\n\n.project {\n  height: 44vh !important;\n}\n\n.reason {\n  width: 100% !important;\n}\n\n/* 确定还有同意 */\n.option {\n  width: 200px;\n  height: 40px;\n  margin: 0 auto;\n}\n/* 关于table 和右侧拉出框 */\n/* 关于动画 */\n@keyframes allen {\n  from {\n    width: 100%;\n  }\n  to {\n    width: 60%;\n  }\n}\n@-o-keyframes allen {\n  from {\n    width: 100%;\n  }\n  to {\n    width: 60%;\n  }\n}\n@-moz-keyframes allen {\n  from {\n    width: 100%;\n  }\n  to {\n    width: 60%;\n  }\n}\n@-webkit-keyframes allen {\n  from {\n    width: 100%;\n  }\n  to {\n    width: 60%;\n  }\n}\n@keyframes allenItem {\n  from {\n    width: 0;\n  }\n  to {\n    width: 40%;\n  }\n}\n@-o-keyframes allenItem {\n  from {\n    width: 0;\n  }\n  to {\n    width: 40%;\n  }\n}\n@-moz-keyframes allenItem {\n  from {\n    width: 0;\n  }\n  to {\n    width: 40%;\n  }\n}\n@-webkit-keyframes allenItem {\n  from {\n    width: 0;\n  }\n  to {\n    width: 40%;\n  }\n}\n@keyframes close {\n  from {\n    width: 60%;\n  }\n  to {\n    width: 100%;\n  }\n}\n@-o-keyframes close {\n  from {\n    width: 60%;\n  }\n  to {\n    width: 100%;\n  }\n}\n@-moz-keyframes close {\n  from {\n    width: 60%;\n  }\n  to {\n    width: 100%;\n  }\n}\n@-webkit-keyframes close {\n  from {\n    width: 60%;\n  }\n  to {\n    width: 100%;\n  }\n}\n@keyframes closeItem {\n  from {\n    width: 40%;\n  }\n  to {\n    width: 0;\n  }\n}\n@-o-keyframes closeItem {\n  from {\n    width: 40%;\n  }\n  to {\n    width: 0;\n  }\n}\n@-moz-keyframes closeItem {\n  from {\n    width: 40%;\n  }\n  to {\n    width: 0;\n  }\n}\n@-webkit-keyframes closeItem {\n  from {\n    width: 40%;\n  }\n  to {\n    width: 0;\n  }\n}\n.table-item-box {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n  height: 100%;\n  width: 100%;\n}\n.table-wrapper {\n  width: 100%;\n  animation: close 1s ease;\n  -moz-animation: close 1s ease;\n  -o-animation: close 1s ease;\n  -webkit-animation: close 1s ease;\n}\n.item-add-wrapper {\n  width: 0;\n  height: 100%;\n  animation: closeItem 1s ease;\n  -moz-animation: closeItem 1s ease;\n  -o-animation: closeItem 1s ease;\n  -webkit-animation: closeItem 1s ease;\n}\n.table-wrapper-run {\n  overflow: auto;\n  width: 60%;\n  height: 100%;\n  animation: allen 1s ease;\n  -moz-animation: allen 1s ease;\n  -o-animation: allen 1s ease;\n  -webkit-animation: allen 1s ease;\n}\n.item-add-wrapper-run {\n  height: 100%;\n  width: 40%;\n  animation: allenItem 1s ease;\n  -moz-animation: allenItem 1s ease;\n  -o-animation: allenItem 1s ease;\n  -webkit-animation: allenItem 1s ease;\n}\n\n.table-wrapper-init {\n  width: 100%;\n  height: 100%;\n}\n.item-wrapper-init {\n  width: 0;\n  height: 100%;\n}\n</style>\n<style scoped lang=\"stylus\">\n.del {\n  color: #ff0000;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planHookUpApproval.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planHookUpApproval.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./planHookUpApproval.vue?vue&type=template&id=f37b4812&scoped=true&\"\nimport script from \"./planHookUpApproval.vue?vue&type=script&lang=js&\"\nexport * from \"./planHookUpApproval.vue?vue&type=script&lang=js&\"\nimport style0 from \"./planHookUpApproval.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./planHookUpApproval.vue?vue&type=style&index=1&id=f37b4812&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f37b4812\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planHookUpApproval.vue?vue&type=style&index=1&id=f37b4812&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planHookUpApproval.vue?vue&type=style&index=1&id=f37b4812&scoped=true&lang=stylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planHookUpApproval.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./planHookUpApproval.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}